@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Store Name | Blog</title>

    <!-- Font awesome -->
    <link href="~/Content/css/font-awesome.css" rel="stylesheet">
    <!-- Bootstrap -->
    <link href="~/Content/css/bootstrap.css" rel="stylesheet">
    <!-- SmartMenus jQuery Bootstrap Addon CSS -->
    <link href="~/Content/css/jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <!-- Product view slider -->
    <link rel="stylesheet" type="text/css" href="~/Content/css/jquery.simpleLens.css">
    <!-- slick slider -->
    <link rel="stylesheet" type="text/css" href="~/Content/css/slick.css">
    <!-- price picker slider -->
    <link rel="stylesheet" type="text/css" href="~/Content/css/nouislider.css">
    <!-- Theme color -->
    <link id="switcher" href="~/Content/css/theme-color/default-theme.css" rel="stylesheet">
    <!-- <link id="switcher" href="css/theme-color/bridge-theme.css" rel="stylesheet"> -->
    <!-- Top Slider CSS -->
    <link href="~/Content/css/sequence-theme.modern-slide-in.css" rel="stylesheet" media="all">

    <!-- Main style sheet -->
    <link href="~/Content/css/style.css" rel="stylesheet">

    <!-- Google Font -->
    <link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link href="~/Content/css/toastr.css" rel="stylesheet" />

</head>
<body id="app">
    <!-- wpf loader Two -->
    <div id="wpf-loader-two">
        <div class="wpf-loader-two-inner">
            <span>Loading</span>
        </div>
    </div>
    <!-- / wpf loader Two -->
    <!-- SCROLL TOP BUTTON -->
    <a class="scrollToTop" href="#"><i class="fa fa-chevron-up"></i></a>
    <!-- END SCROLL TOP BUTTON -->
    <!-- Start header section -->
    <!-- Start header section -->
    <header id="aa-header">
        <!-- start header top  -->
        <div class="aa-header-top">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div class="aa-header-top-area">
                            <!-- start header top left -->
                            <div class="aa-header-top-left">
                                <!-- start language -->
                                <div class="aa-language">
                                    <div class="dropdown">
                                        <a class="btn dropdown-toggle" href="#" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                            <img src="~/Content/img/flag/english.jpg" alt="english flag">ENGLISH
                                            <span class="caret"></span>
                                        </a>
                                        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                                            <li><a href="#"><img src="~/Content/img/flag/english.jpg" alt="">ENGLISH</a></li>
                                        </ul>
                                    </div>
                                </div>
                                <!-- / language -->
                                <!-- start currency -->
                                <div class="aa-currency">
                                    <div class="dropdown">
                                        <a class="btn dropdown-toggle" href="#" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                            <i class="fa fa-usd"></i>USD
                                            <span class="caret"></span>
                                        </a>
                                        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                                            <li><a href="#"><i class="fa fa-usd"></i>USD</a></li>
                                        </ul>
                                    </div>
                                </div>
                                <!-- / currency -->
                                <!-- start cellphone -->
                                <div class="cellphone hidden-xs">
                                    <p><span class="fa fa-phone"></span>+1 917-768-9177</p>
                                </div>
                                <!-- / cellphone -->
                            </div>
                            <!-- / header top left -->
                            <div class="aa-header-top-right">
                                <ul class="aa-head-top-nav-right">
                                    <li v-if="currentUser!=null"><a>{{currentUser.userName}} you are logged in</a></li>
                                    <li v-if="currentUser==null"><a href="/Authentication" @*data-toggle="modal" data-target="#login-modal"*@>Login / Registeration</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- / header top  -->
        <!-- start header bottom  -->
        <div class="aa-header-bottom">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div class="aa-header-bottom-area">
                            <!-- logo  -->
                            <div class="aa-logo">
                                <!-- Text based logo -->
                                <a href="index.html">
                                    <span class="fa fa-shopping-cart"></span>
                                    <p>Easy<strong>Shop</strong> <span>Your Shopping Partner</span></p>
                                </a>
                                <!-- img based logo -->
                                <!-- <a href="index.html"><img src="img/logo.jpg" alt="logo img"></a> -->
                            </div>
                            <!-- / logo  -->
                            <!-- cart box -->
                            @*<div class="aa-cartbox">
                                  <a class="aa-cart-link" href="#">
                                    <span class="fa fa-shopping-basket"></span>
                                    <span class="aa-cart-title">SHOPPING CART</span>
                                    <span class="aa-cart-notify">2</span>
                                  </a>
                                  <div class="aa-cartbox-summary">
                                    <ul>
                                      <li>
                                        <a class="aa-cartbox-img" href="#"><img src="~/Content/img/woman-small-2.jpg" alt="img"></a>
                                        <div class="aa-cartbox-info">
                                          <h4><a href="#">Product Name</a></h4>
                                          <p>1 x $250</p>
                                        </div>
                                        <a class="aa-remove-product" href="#"><span class="fa fa-times"></span></a>
                                      </li>
                                      <li>
                                        <a class="aa-cartbox-img" href="#"><img src="~/Content/img/woman-small-1.jpg" alt="img"></a>
                                        <div class="aa-cartbox-info">
                                          <h4><a href="#">Product Name</a></h4>
                                          <p>1 x $250</p>
                                        </div>
                                        <a class="aa-remove-product" href="#"><span class="fa fa-times"></span></a>
                                      </li>
                                      <li>
                                        <span class="aa-cartbox-total-title">
                                          Total
                                        </span>
                                        <span class="aa-cartbox-total-price">
                                          $500
                                        </span>
                                      </li>
                                    </ul>
                                    <a class="aa-cartbox-checkout aa-primary-btn" href="checkout.html">Checkout</a>
                                  </div>
                                </div>*@
                            <!-- / cart box -->
                            <!-- search box -->
                            <div class="aa-search-box">
                                <form action="">
                                    <input type="text" name="" id="" placeholder="Search here ..." disabled>
                                    <button type="submit"><span class="fa fa-search"></span></button>
                                </form>
                            </div>
                            <!-- / search box -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- / header bottom  -->
    </header>
    <!-- / header section -->
    <!-- menu -->
    <section id="menu">
        <div class="container">
            <div class="menu-area">
                <!-- Navbar -->
                <div class="navbar navbar-default" role="navigation">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                    </div>
                    <div class="navbar-collapse collapse">
                        <!-- Left nav -->
                        <ul class="nav navbar-nav">
                            <li><a href="/Home">Home</a></li>
                            <li><a href="/Blog">Blog</a></li>
                            <li><a href="/Home/Services">Services</a></li>
                            <li><a href="/Home/About">About</a></li>
                            <li><a href="/Home/Contact">Contact</a></li>
                        </ul>
                    </div><!--/.nav-collapse -->
                </div>
            </div>
        </div>
    </section>
    <!-- / menu -->
    <!-- / menu -->
    <!-- catg header banner section -->
    <section id="aa-catg-head-banner">
        <img src="~/Content/img/fashion/fashion-header-bg-8.jpg" alt="fashion img">
        <div class="aa-catg-head-banner-area">
            <div class="container">
                <div class="aa-catg-head-banner-content">
                    <h2>Blog</h2>
                    <ol class="breadcrumb">
                        <li><a href="~/Home">Home</a></li>
                        <li class="active">Blog</li>
                    </ol>
                </div>
            </div>
        </div>
    </section>
    <!-- / catg header banner section -->
    <!-- Blog Archive -->
    <section id="aa-blog-archive">
        <div class="container">



            <div class="row">
                <div class="col-md-12">



                    <div class="aa-blog-archive-area">
                        <div class="row">
                            <div class="col-md-9">
                                <div class="row" v-if="currentUser!=null">

                                    <div class="col-md-5 aa-subscribe-form" style="background-color: #ff6666"><i style="font-size:45px; font:bold"> Post a new Blog :</i></div>
                                    <div class="col-md-2" style="background-color: #ff6666">
                                        <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#exampleModal" style="margin-top:9%; margin-bottom:9px"> + Blog </button>
                                    </div>
                                </div>
                                <br /><hr>
                                <!-- Blog details -->
                                <div class="aa-blog-content aa-blog-details" v-for="item in blogList">
                                    <article class="aa-blog-content-single">
                                        <h2><a href="#">{{item.heading}}</a></h2>
                                        <div class="aa-article-bottom">
                                            <div class="aa-post-author">
                                                Posted By <a href="#">{{item.user.userName}}</a>
                                            </div>
                                            <div class="aa-post-date">
                                                {{item.creationDate}}
                                            </div>
                                            <div class="dropdown" style="margin-top:-10px">
                                                <a v-if="currentUser!=null" class="btn dropdown-toggle" href="#" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                                    Menu<span class="caret"></span>
                                                </a>
                                                <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                                                    <li style="background-color:orangered"  v-if="item.user.UserID==currentUser.UserID" data-toggle="modal" data-target="#exampleModal" v-on:click="editBlog(item)"><a>Edit</a></li>
                                                    <li style="background-color:red" v-if="currentUser.isAdmin==true || item.user.UserID==currentUser.UserID" v-on:click="deletePost(item.BlogID)"><a>Delete</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                        <figure class="aa-blog-img">
                                            <a href="#"><img v-bind:src="'/../../'+item.image" alt="fashion img"></a>
                                        </figure>
                                        <p>{{item.discription}}</p>

                                    </article>

                                    <!-- Blog Comment threats -->
                                    <div class="aa-blog-comment-threat">
                                        <h3>Comments {{item.Comments.length}}</h3>
                                        <div class="comments" style="background-color:gainsboro">
                                            <ul class="commentlist">
                                                <li v-for="comment in item.Comments">
                                                    <div class="media">
                                                        <div class="media-body">
                                                            <h4 class="author-name">{{comment.user.userName}}</h4>
                                                            <span class="comments-date"> {{comment.commentTime}}</span>
                                                            <p>{{comment.discription}}</p>

                                                        </div>
                                                    </div>
                                                </li>


                                            </ul>
                                        </div>
                                    </div>
                                    <!-- blog comments form -->
                                    <div id="respond">
                                        <h3 class="reply-title">Leave a Comment</h3>
                                        <form id="commentform">
                                            <p class="comment-form-comment">
                                                <label for="comment">Comment</label>
                                                <textarea name="comment" cols="10" rows="2" aria-required="true" required="required" v-model="item.currentComment"></textarea>
                                                <label v-if="currentUser!=null" for="comment"><button type="button" class="btn btn-default" v-on:click="addComment(item.BlogID,item.currentComment)">Submit</button></label>
                                            </p>
                                        </form>
                                    </div>

                                    <br /><br /><br />
                                </div>

                            </div>

                            <!-- blog sidebar -->
                            <div class="col-md-3">
                                <aside class="aa-blog-sidebar">
                                    <div class="aa-sidebar-widget">
                                        <h3>Category</h3>
                                        <ul class="aa-catg-nav">
                                            <li><a href="#">Men</a></li>
                                            <li><a href="">Women</a></li>
                                            <li><a href="">Kids</a></li>
                                            <li><a href="">Electornics</a></li>
                                            <li><a href="">Sports</a></li>
                                        </ul>
                                    </div>
                                    <div class="aa-sidebar-widget">
                                        <h3>Tags</h3>
                                        <div class="tag-cloud">
                                            <a href="#">Fashion</a>
                                            <a href="#">Ecommerce</a>
                                            <a href="#">Shop</a>
                                            <a href="#">Hand Bag</a>
                                            <a href="#">Laptop</a>
                                            <a href="#">Head Phone</a>
                                            <a href="#">Pen Drive</a>
                                        </div>
                                    </div>
                                    
                                </aside>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- / Blog Archive -->
    <!-- / Subscribe section -->
    <!-- footer -->
    <footer id="aa-footer">
        <!-- footer bottom -->
        <div class="aa-footer-top">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div class="aa-footer-top-area">
                            <div class="row">
                                <div class="col-md-3 col-sm-6">
                                    <div class="aa-footer-widget">
                                        <h3>Main Menu</h3>
                                        <ul class="aa-footer-nav">
                                            <li><a href="#">Home</a></li>
                                            <li><a href="#">Our Services</a></li>
                                            <li><a href="#">Our Products</a></li>
                                            <li><a href="#">About Us</a></li>
                                            <li><a href="#">Contact Us</a></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-3 col-sm-6">
                                    <div class="aa-footer-widget">
                                        <div class="aa-footer-widget">
                                            <h3>Knowledge Base</h3>
                                            <ul class="aa-footer-nav">
                                                <li><a href="#">Delivery</a></li>
                                                <li><a href="#">Returns</a></li>
                                                <li><a href="#">Services</a></li>
                                                <li><a href="#">Discount</a></li>
                                                <li><a href="#">Special Offer</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-sm-6">
                                    <div class="aa-footer-widget">
                                        <div class="aa-footer-widget">
                                            <h3>Useful Links</h3>
                                            <ul class="aa-footer-nav">
                                                <li><a href="#">Site Map</a></li>
                                                <li><a href="#">Search</a></li>
                                                <li><a href="#">Advanced Search</a></li>
                                                <li><a href="#">Suppliers</a></li>
                                                <li><a href="#">FAQ</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-sm-6">
                                    <div class="aa-footer-widget">
                                        <div class="aa-footer-widget">
                                            <h3>Contact Us</h3>
                                            <address>
                                                <p> 25 Astor Pl, NY 10003, USA</p>
                                                <p><span class="fa fa-phone"></span>+1 917-768-9177</p>
                                                <p><span class="fa fa-envelope"></span>pydianga@gmail.com</p>
                                            </address>
                                            <div class="aa-footer-social">
                                                <a href="#"><span class="fa fa-facebook"></span></a>
                                                <a href="#"><span class="fa fa-twitter"></span></a>
                                                <a href="#"><span class="fa fa-google-plus"></span></a>
                                                <a href="#"><span class="fa fa-youtube"></span></a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- footer-bottom -->
        <div class="aa-footer-bottom">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div class="aa-footer-bottom-area">
                            <p>Designed by <a href="mailto:uzairrana99@gmail.com">uzairrana99</a></p>
                            <div class="aa-footer-payment">
                                <span class="fa fa-cc-mastercard"></span>
                                <span class="fa fa-cc-visa"></span>
                                <span class="fa fa-paypal"></span>
                                <span class="fa fa-cc-discover"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- / footer -->
    <!-- Login Modal -->
    <div class="modal fade" id="login-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4>Login or Register</h4>
                    <form class="aa-login-form" action="">
                        <label for="">Username or Email address<span>*</span></label>
                        <input type="text" placeholder="Username or email">
                        <label for="">Password<span>*</span></label>
                        <input type="password" placeholder="Password">
                        <button class="aa-browse-btn" type="submit">Login</button>
                        <label for="rememberme" class="rememberme"><input type="checkbox" id="rememberme"> Remember me </label>
                        <p class="aa-lost-password"><a href="#">Lost your password?</a></p>
                        <div class="aa-register-now">
                            Don't have an account?<a href="account.html">Register now!</a>
                        </div>
                    </form>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div>
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Post a Blog</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label for="recipient-name" class="col-form-label">Heading:</label>
                            <input type="text" class="form-control" id="recipient-name" v-model="Blog.heading" maxlength="100">
                        </div>
                        <div class="form-group">
                            <label for="recipient-image" class="col-form-label">Image:</label>
                            <input :disabled="Blog.BlogID != 0"  type="file"  class="form-control" title="Choose a Image to upload" accept="image/*, image/heic, image/heif" v-on:change="uploadBlogImage" ref="ImageUpload">
                        </div>
                        <div class="form-group">
                            <label for="message-text" class="col-form-label">Discription:</label>
                            <textarea class="form-control" id="message-text" v-model="Blog.discription" maxlength="500"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal" v-on:click="clearBlog()">Close</button>
                    <button type="button" class="btn btn-primary" v-if="Blog.BlogID==0" v-on:click="addBlog()">POST</button>
                    <button type="button" class="btn btn-primary" v-if="Blog.BlogID!=0" v-on:click="updateBlog()">Update</button>
                </div>
            </div>
        </div>
    </div>
   
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script type="text/javascript" src="~/Content/js/bootstrap.js"></script>
    <!-- SmartMenus jQuery plugin -->
    <script type="text/javascript" src="~/Content/js/jquery.smartmenus.js"></script>
    <!-- SmartMenus jQuery Bootstrap Addon -->
    <script type="text/javascript" src="~/Content/js/jquery.smartmenus.bootstrap.js"></script>
    <!-- To Slider JS -->
    <script src="~/Content/js/sequence.js"></script>
    <script src="~/Content/js/sequence-theme.modern-slide-in.js"></script>
    <!-- Product view slider -->
    <script type="text/javascript" src="~/Content/js/jquery.simpleGallery.js"></script>
    <script type="text/javascript" src="~/Content/js/jquery.simpleLens.js"></script>
    <!-- slick slider -->
    <script type="text/javascript" src="~/Content/js/slick.js"></script>
    <!-- Price picker slider -->
    <script type="text/javascript" src="~/Content/js/nouislider.js"></script>
    <!-- Custom js -->
    <script src="~/Content/js/custom.js"></script>
    <script src="~/Content/js/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.20.0/axios.js"></script>
    <script src="~/Content/js/toastr.js"></script>
    <script>
        var root = new Vue
            ({
                el: '#app',
                data:
                {
                    isVueActive: 'Al-SHAFQAT',
                    currentUser:null,
                    Blog:
                    {
                        BlogID:0,
                        UserID:0,
                        heading:'',
                        image:'',
                        discription:''
                    },
                    blogList:[]

                   
                },
                created: function ()
                {
                    this.getBlogList();
                    this.UserDeatile();
                },
                methods:
                {
                    UserDeatile() {
                        var vm = this;
                       
                        axios.get('/Home/UserDeatile')
                            .then(function (res) {
                               
                                if (res.data["code"] == 200 && res.data["Message"] == "User Detail available") {
                                    vm.currentUser = res.data["currentUser"];
                                   
                                }
                                if (res.data["code"] == 401 && res.data["Message"] == "Login First") {
                                    //window.location = "/Authentication";
                                }
                            })
                            .then(function (error) {
                                console.log(error);
                            })

                    },
                    //Image
                    splitImage(image) {
                        if (image.length > 100) {
                            var splits = image.split('base64,');
                            return splits[1];

                        }
                        else {
                            return "";
                        }
                    },
                    uploadBlogImage: function (event) {
                        console.log(event);
                        var image = new Image;
                        var reader = new FileReader;
                        reader.onload = (e) => {
                            this.Blog.image = e.target.result;
                        }

                        reader.readAsDataURL(event.target.files[0]);
                        console.log(event.target.files[0]);

                    },

                    //Add Blog
                    clearBlog()
                    {
                        this.Blog.BlogID = 0;
                        this.Blog.UserID = 0;
                        this.Blog.heading = '';
                        this.Blog.image = '';
                        this.Blog.discription = '';

                    },

                    resetImage() {
                        const input = this.$refs.ImageUpload;
                        input.type = 'text';
                        input.type = 'file';
                    },
                    addBlog() {
                        if (this.Blog.discription == "") { toastr.error("Discription Required", "Error!"); }
                        if (this.Blog.image == "") { toastr.error("Image Required", "Error!"); }
                        if (this.Blog.heading == "") { toastr.error("Heading Required", "Error!"); }
                        if (this.Blog.discription != "" && this.Blog.image != "" && this.Blog.heading != "") {
                            var vm = this;
                            vm.Blog.image = vm.splitImage(vm.Blog.image);
                            axios.post('/Blog/addBlog',
                                {
                                    currentBlog: vm.Blog,
                                })
                                .then(function (res) {
                                   
                                    if (res.data["code"] == 200 && res.data["Message"] == "Blog Successfully added") {
                                        vm.clearBlog();
                                        toastr.success("Blog Posted", "Success!");
                                        window.location = "/Blog";
                                        //vm.resetImage();
                                        //this.$refs.ImageUpload.value = null;
                                    }
                                    if (res.data["code"] == 400 && res.data["Message"] == "UnAuthorized Changing") {
                                        toastr.error("Unauthorized Changing", "Error!");
                                    }
                                    if (res.data["code"] == 401 && res.data["Message"] == "login First") {
                                        window.location = "/Authentication";
                                    }
                                })
                                .then(function (error) {
                                    console.log(error);
                                })
                        }
                    },
                    getBlogList() {
                        var vm = this;
                        
                        axios.post('/Blog/blogList')
                            .then(function (res) {
                                if (res.data["code"] == 200 && res.data["Message"] == "Blog List Available") {
                                    vm.blogList = res.data["blogList"];
                                }
                                if (res.data["code"] == 400 && res.data["Message"] == "login First") {
                                    window.location = "/Authentication";
                                }
                            })
                            .then(function (error) {
                                console.log(error);
                            })
                    },
                    deletePost(BlogID) {
                        

                        if (BlogID != 0) {
                            var vm = this;
                            vm.Blog.image = vm.splitImage(vm.Blog.image);
                            axios.post('/Blog/deletePost',
                                {
                                    BlogID: BlogID,
                                })
                                .then(function (res) {

                                    if (res.data["code"] == 200 && res.data["Message"] == "Blog Deleted") {
                                        vm.getBlogList();
                                        toastr.success("Comment Posted", "Success!");
                                    }
                                    if (res.data["code"] == 400 && res.data["Message"] == "UnAuthorized Changing") {
                                        toastr.error("Unauthorized Changing", "Error!");
                                    }
                                    if (res.data["code"] == 401 && res.data["Message"] == "login First") {
                                        window.location = "/Authentication";
                                    }
                                })
                                .then(function (error) {
                                    console.log(error);
                                })
                        }
                    },
                    editBlog(currentBlog)
                    {
                        this.Blog.BlogID = currentBlog.BlogID;
                        this.Blog.heading = currentBlog.heading;
                        this.Blog.discription = currentBlog.discription;
                    },
                    updateBlog() {
                        if (this.Blog.discription == "") { toastr.error("Discription Required", "Error!"); }
                        if (this.Blog.heading == "") { toastr.error("Heading Required", "Error!"); }
                        if (this.Blog.discription != "" && this.Blog.heading != "" && this.Blog.BlogID != 0) {
                            var vm = this;
                            axios.post('/Blog/updateBlog',
                                {
                                    currentBlog: vm.Blog,
                                })
                                .then(function (res) {

                                    if (res.data["code"] == 200 && res.data["Message"] == "Blog Successfully updated") {
                                        vm.clearBlog();
                                        toastr.success("Blog Updated", "Success!");
                                        //vm.getBlogList();
                                        window.location = "/Blog";
                                    }
                                    if (res.data["code"] == 400 && res.data["Message"] == "UnAuthorized Changing") {
                                        toastr.error("Unauthorized Changing", "Error!");
                                    }
                                    if (res.data["code"] == 401 && res.data["Message"] == "login First") {
                                        window.location = "/Authentication";
                                    }
                                })
                                .then(function (error) {
                                    console.log(error);
                                })
                        }
                    },

                    //Comment
                    addComment(BlogID, currentComment) {
                        if (currentComment == "") { toastr.error("Comment Required", "Error!"); }
                        
                        if (BlogID != 0 && currentComment != "") {
                            var vm = this;
                            vm.Blog.image = vm.splitImage(vm.Blog.image);
                            axios.post('/Blog/addComment',
                                {
                                    BlogID: BlogID,
                                    currentCommentDiscription: currentComment,
                                })
                                .then(function (res) {

                                    if (res.data["code"] == 200 && res.data["Message"] == "Comment Successfully added") {
                                        vm.getBlogList();
                                        toastr.success("Comment Posted", "Success!");
                                    }
                                    if (res.data["code"] == 400 && res.data["Message"] == "UnAuthorized Changing") {
                                        toastr.error("Unauthorized Changing", "Error!");
                                    }
                                    if (res.data["code"] == 401 && res.data["Message"] == "login First") {
                                        window.location = "/Authentication";
                                    }
                                })
                                .then(function (error) {
                                    console.log(error);
                                })
                        }
                    },

                },
            });
    </script>

</body>
</html>